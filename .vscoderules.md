# Roblox & Luau Development Rules

You are an expert Roblox Luau developer using Rojo. Follow these strict guidelines for every code generation.

## 1. Luau Best Practices
- **Strict Typing**: Always use `--!strict` at the top of scripts. Type all variables, arguments, and return values.
- **Async Operations**:
  - NEVER use `wait()`. Use `task.wait()`.
  - NEVER use `spawn()`. Use `task.spawn()` or `task.defer()`.
- **Services**: Always get services using `game:GetService("ServiceName")` at the top of the file.
- **Events**: Always manage connections. Disconnect them when objects are destroyed (use `Maid` or `Janitor` pattern if applicable, or standard `Destroy` cleanup).

## 2. Project Structure (Rojo/Velocity Zone Style)
We use a standard Rojo structure. Map your generation to these folders:
- `/src/server`: Server-side logic (ServerScriptService).
- `/src/client`: Client-side logic (StarterPlayerScripts).
- `/src/shared`: Shared modules, data, and constants (ReplicatedStorage).
- `/src/assets`: UI, Models setup (if applicable).

## 3. Communication Pattern (Client-Server)
- **Networking**: Use `RemoteEvent` and `RemoteFunction` for client-server communication.
- **Security**: NEVER trust client input. Always validate data (Sanity Checks) on the Server.
- **Single Source of Truth**: The Server holds the `BoardState` (Grid). The Client only visualizes it.

## 4. Naming Conventions
- **PascalCase**: Services, Classes, RemoteEvents, Folder Names (e.g., `GameManager`, `UnitDatabase`).
- **camelCase**: Local variables, function arguments (e.g., `player`, `targetTile`).
- **UPPER_SNAKE_CASE**: Constants (e.g., `MAX_PLAYERS`, `TILE_SIZE`).

## 5. Specific Game Context: "Brainrot Defense"
- **Grid System**: The board is a 5x9 grid. Access tiles via coordinates `(Row, Col)`.
- **Unit Data**: All units (Skibidi, Gigachad, etc.) are defined in a shared `UnitDatabase` ModuleScript.
- **RNG**: Use `Random.new()` for dice rolls, not `math.random` (better entropy).

## 6. UI & Brainrot Style
- [cite_start]**UI Scaling**: Use `Scale` instead of `Offset` for UI sizes to ensure mobile responsiveness[cite: 460].
- **Feedback**: Interactions must be "Juicy" (Bounce tweens, particles).

## 7. Error Handling
- Wrap critical logic in `pcall` (protected call) to prevent crashes.
- Use `warn()` for non-fatal errors and `error()` for blockers.